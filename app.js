var _0x22cadd=_0x2332;(function(_0x274dbb,_0x547796){var _0x13f10f=_0x2332,_0x17eb6d=_0x274dbb();while(!![]){try{var _0x25afba=-parseInt(_0x13f10f(0x15f))/0x1+-parseInt(_0x13f10f(0x184))/0x2+-parseInt(_0x13f10f(0x185))/0x3+-parseInt(_0x13f10f(0x19b))/0x4*(parseInt(_0x13f10f(0x16d))/0x5)+-parseInt(_0x13f10f(0x148))/0x6*(-parseInt(_0x13f10f(0x151))/0x7)+parseInt(_0x13f10f(0x15b))/0x8*(-parseInt(_0x13f10f(0x16b))/0x9)+parseInt(_0x13f10f(0x15c))/0xa;if(_0x25afba===_0x547796)break;else _0x17eb6d['push'](_0x17eb6d['shift']());}catch(_0x47067e){_0x17eb6d['push'](_0x17eb6d['shift']());}}}(_0x1c71,0x674f4));var firebaseConfig={'apiKey':'AIzaSyC5FR4fLXV1zjAzZ4WFIwBG97Aes3FtPWo','authDomain':_0x22cadd(0x17f),'databaseURL':_0x22cadd(0x147),'projectId':'contador-c6528','storageBucket':_0x22cadd(0x1a2),'messagingSenderId':_0x22cadd(0x142),'appId':_0x22cadd(0x150)};firebase[_0x22cadd(0x17b)](firebaseConfig);var nameList=document[_0x22cadd(0x180)]('nameList'),nameRef=firebase[_0x22cadd(0x169)]()[_0x22cadd(0x19a)](_0x22cadd(0x143)),userMessagesRef=firebase[_0x22cadd(0x169)]()['ref'](_0x22cadd(0x18f)),verificationRef=firebase[_0x22cadd(0x169)]()[_0x22cadd(0x19a)]('verification');verificationRef[_0x22cadd(0x17e)]('value')[_0x22cadd(0x19f)](function(_0x46d85a){var _0x3ca5ae=_0x22cadd;!_0x46d85a[_0x3ca5ae(0x195)]()&&verificationRef['set']({'allowedEmails':{},'verificationEnabled':!![]});})['catch'](function(_0x9232a5){var _0x50f23b=_0x22cadd;console[_0x50f23b(0x16f)](_0x50f23b(0x198),_0x9232a5);});var canSubmitNames=!![];nameRef['on']('child_added',handleNameChange),nameRef['on']('child_changed',handleNameChange);function isAllowedUser(_0x346395){var _0x317bd6=_0x22cadd;return verificationRef[_0x317bd6(0x17e)]('value')['then'](function(_0x5ee8c6){var _0x1af42f=_0x317bd6,_0x187736=_0x5ee8c6[_0x1af42f(0x172)]()[_0x1af42f(0x16a)];if(!_0x187736)return!![];else{var _0x1827fa=normalizeEmail(_0x346395);return verificationRef[_0x1af42f(0x153)](_0x1af42f(0x145))[_0x1af42f(0x153)](_0x1827fa)[_0x1af42f(0x17e)](_0x1af42f(0x165))[_0x1af42f(0x19f)](function(_0x3daadb){var _0x1515de=_0x1af42f;return _0x3daadb[_0x1515de(0x195)]();});}});}function toggleVerificationButtonVisibility(_0xbeac83){var _0x30551b=_0x22cadd;if(_0xbeac83)verificationRef['once'](_0x30551b(0x165))[_0x30551b(0x19f)](function(_0x1e00e3){var _0x1d4847=_0x30551b,_0x1ded59=_0x1e00e3[_0x1d4847(0x172)]()[_0x1d4847(0x16a)],_0x147dba=document[_0x1d4847(0x180)]('toggleVerificationButton');_0x147dba['style'][_0x1d4847(0x155)]=_0x1ded59?_0x1d4847(0x1a0):_0x1d4847(0x18a);});else{var _0x234a8f=document[_0x30551b(0x180)]('toggleVerificationButton');_0x234a8f[_0x30551b(0x18e)][_0x30551b(0x155)]=_0x30551b(0x18a);}}function handleVerificationChange(_0xbfef7){var _0x5d4b5e=_0x22cadd;toggleVerificationButtonVisibility(_0xbfef7[_0x5d4b5e(0x172)]()[_0x5d4b5e(0x16a)]);}verificationRef['on'](_0x22cadd(0x165),handleVerificationChange),verificationRef['on'](_0x22cadd(0x165),toggleVerificationButtonVisibility),document['getElementById'](_0x22cadd(0x19c))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),function(){var _0x304312=_0x22cadd;verificationRef[_0x304312(0x17e)](_0x304312(0x165))[_0x304312(0x19f)](function(_0x311463){var _0x3072ff=_0x304312,_0x40df05=_0x311463['val']()[_0x3072ff(0x16a)];verificationRef[_0x3072ff(0x153)](_0x3072ff(0x16a))[_0x3072ff(0x16e)](!_0x40df05);});});function _0x1c71(){var _0x5285bd=['getElementById','Nombre:','GoogleAuthProvider','resetNamesButton','931788PAlcqc','669837MecmKD','Hubo\x20un\x20error\x20al\x20añadir\x20el\x20correo.\x20Por\x20favor,\x20revisa\x20la\x20consola\x20para\x20más\x20detalles.','floor','block','Tu\x20nombre\x20ha\x20sido\x20enviado.\x20Si\x20no\x20lo\x20ves,\x20por\x20favor,\x20recarga\x20la\x20página.','none','forEach','Correo\x20electrónico\x20no\x20permitido.\x20No\x20se\x20pudo\x20iniciar\x20sesión.','auth','style','userMessages','No\x20tienes\x20permisos\x20para\x20añadir\x20correos\x20manualmente\x20o\x20no\x20has\x20iniciado\x20sesión.','resetButton','name','Debes\x20iniciar\x20sesión\x20antes\x20de\x20enviar\x20un\x20nombre.','Usuario\x20actual:\x20','exists','preventDefault','length','Error\x20al\x20inicializar\x20/verification:','providerId','ref','56oLvyqH','toggleVerificationButton','uid','createElement','then','inline-block','Recargue\x20la\x20página\x20y\x20envíe\x20de\x20nuevo.','contador-c6528.appspot.com','Todos\x20los\x20mensajes\x20de\x20usuarios\x20han\x20sido\x20eliminados.','currentUser','TuUIDAutorizado','addEventListener','click','email','emailLoginButton','575749501934','names','nameForm','allowedEmails','remove','https://contador-c6528-default-rtdb.europe-west1.firebasedatabase.app','4639770meiBsr','No\x20tienes\x20permisos\x20para\x20restablecer\x20los\x20mensajes\x20de\x20usuarios\x20o\x20no\x20has\x20iniciado\x20sesión.','¡Has\x20iniciado\x20sesión\x20con\x20Google\x20correctamente!','trim','logoutButton','Se\x20ha\x20restablecido\x20la\x20información\x20de\x20los\x20mensajes\x20de\x20usuarios.','spinButton','Error\x20al\x20eliminar\x20los\x20nombres:','1:575749501934:web:4b48ebab36b25e925914ff','7bEAfSe','signOut','child','catch','display','userInfo','nameInput','onAuthStateChanged','Ingresa\x20el\x20correo\x20que\x20deseas\x20agregar:','Error\x20al\x20iniciar\x20sesión\x20con\x20Google:\x20','8lDHFZc','15073340TsAVCO','Correo\x20añadido\x20correctamente.','appendChild','378081wHAjpU','Se\x20han\x20restablecido\x20todos\x20los\x20envíos\x20y\x20mensajes\x20de\x20usuarios.','displayName','submit','resetUserMessagesButton','message','value','log','signInWithPopup','replace','database','verificationEnabled','2495583otPvUj','registerButton','183190XsWKYc','set','error','Error\x20al\x20eliminar\x20los\x20mensajes\x20de\x20usuarios:','Error\x20al\x20obtener\x20nombres:','val','loginButton','google.com','toLowerCase','equalTo','Todos\x20los\x20nombres\x20han\x20sido\x20eliminados.','push','No\x20tienes\x20permisos\x20para\x20restablecer\x20los\x20envíos\x20o\x20no\x20has\x20iniciado\x20sesión.','random','initializeApp','providerData','EcjgireoyRNjZ7Fo3W3eMZT05jp1','once','contador-c6528.firebaseapp.com'];_0x1c71=function(){return _0x5285bd;};return _0x1c71();}function handleNameChange(_0x226cb5){var _0x17f295=_0x22cadd,_0x48f682=_0x226cb5[_0x17f295(0x172)]();console[_0x17f295(0x166)](_0x17f295(0x181),_0x48f682['name']);var _0x46a6ff=document[_0x17f295(0x19e)]('li');_0x46a6ff['innerText']=_0x48f682['name'],nameList[_0x17f295(0x15e)](_0x46a6ff);}function hasUserSubmittedMessage(_0x38424c){var _0x11103b=_0x22cadd;return userMessagesRef[_0x11103b(0x153)](_0x38424c)['once'](_0x11103b(0x165))[_0x11103b(0x19f)](function(_0x582a1a){return _0x582a1a['exists']();});}function markUserAsSubmitted(_0x464c79){var _0x132c48=_0x22cadd;userMessagesRef['child'](_0x464c79)[_0x132c48(0x178)](!![]);}function _0x2332(_0x3698e1,_0x2b68c2){var _0x1c71d4=_0x1c71();return _0x2332=function(_0x233279,_0x5e7f9a){_0x233279=_0x233279-0x13f;var _0x6857b1=_0x1c71d4[_0x233279];return _0x6857b1;},_0x2332(_0x3698e1,_0x2b68c2);}function handleFormSubmission(_0x2a2118){var _0x113f17=_0x22cadd;_0x2a2118[_0x113f17(0x196)]();var _0x3b4561=firebase[_0x113f17(0x18d)]()['currentUser'];if(!_0x3b4561){alert(_0x113f17(0x193));return;}hasUserSubmittedMessage(_0x3b4561[_0x113f17(0x19d)])['then'](function(_0x4d1b4f){var _0x29814d=_0x113f17;if(_0x4d1b4f)alert('Ya\x20has\x20enviado\x20un\x20mensaje.\x20No\x20puedes\x20enviar\x20otro.');else{if(!canSubmitNames){alert(_0x29814d(0x1a1));return;}var _0xe66e7c=document['getElementById'](_0x29814d(0x157)),_0x58084e=_0xe66e7c[_0x29814d(0x165)][_0x29814d(0x14b)]();if(_0x58084e[_0x29814d(0x197)]===0x0||_0x58084e[_0x29814d(0x197)]>0x1e){alert('Por\x20favor,\x20ingresa\x20un\x20nombre\x20válido\x20(máximo\x2030\x20caracteres).');return;}canSubmitNames=![],isNameAlreadySubmitted(_0x58084e)['then'](function(_0x3fb19a){var _0x43735f=_0x29814d;if(_0x3fb19a)alert('Este\x20nombre\x20ya\x20ha\x20sido\x20enviado.\x20Elige\x20otro.'),canSubmitNames=!![];else{var _0x2c5e3f={'name':_0x58084e,'userId':_0x3b4561['uid'],'userName':_0x3b4561['displayName'],'userEmail':_0x3b4561['email']};isAllowedUser(_0x3b4561[_0x43735f(0x140)])['then'](function(_0x436500){var _0x5ef51b=_0x43735f;if(_0x436500){var _0x207ea5=nameRef[_0x5ef51b(0x178)](_0x2c5e3f);userMessagesRef[_0x5ef51b(0x153)](_0x3b4561[_0x5ef51b(0x19d)])[_0x5ef51b(0x16e)]({'userEmail':_0x3b4561[_0x5ef51b(0x140)]}),markUserAsSubmitted(_0x3b4561[_0x5ef51b(0x19d)]),_0xe66e7c[_0x5ef51b(0x165)]='',alert(_0x5ef51b(0x189));}else alert('Este\x20correo\x20no\x20está\x20permitido.'),canSubmitNames=!![];});}});}});}function isNameAlreadySubmitted(_0xc6b354){var _0x524547=_0x22cadd;return nameRef['orderByChild'](_0x524547(0x192))[_0x524547(0x176)](_0xc6b354)[_0x524547(0x17e)](_0x524547(0x165))[_0x524547(0x19f)](function(_0x12e65d){var _0x24551a=_0x524547;return _0x12e65d[_0x24551a(0x195)]();});}function normalizeEmail(_0x473012){var _0x2ed3f4=_0x22cadd;return _0x473012['replace']('.','_')[_0x2ed3f4(0x168)]('@','_');}function addAllowedEmail(_0x15dbfa){var _0x93b2c3=_0x22cadd,_0xa65356=normalizeEmail(_0x15dbfa);return verificationRef[_0x93b2c3(0x153)](_0x93b2c3(0x145))['child'](_0xa65356)['set'](!![]);}function resetUserMessages(){var _0x320a51=_0x22cadd,_0x5d4d58=firebase[_0x320a51(0x18d)]()[_0x320a51(0x1a4)];_0x5d4d58?(userMessagesRef[_0x320a51(0x146)]()[_0x320a51(0x19f)](function(){var _0x21d566=_0x320a51;console[_0x21d566(0x166)](_0x21d566(0x1a3));})['catch'](function(_0x2a6bfd){var _0x464cb6=_0x320a51;console['error'](_0x464cb6(0x170),_0x2a6bfd);}),alert(_0x320a51(0x14d))):alert(_0x320a51(0x149));}function resetNames(){var _0x3d5e2f=_0x22cadd,_0x375050=firebase[_0x3d5e2f(0x18d)]()[_0x3d5e2f(0x1a4)];_0x375050?(nameRef[_0x3d5e2f(0x146)]()[_0x3d5e2f(0x19f)](function(){var _0x2310dc=_0x3d5e2f;console[_0x2310dc(0x166)](_0x2310dc(0x177));})[_0x3d5e2f(0x154)](function(_0x1e8fff){var _0xda0f70=_0x3d5e2f;console[_0xda0f70(0x16f)](_0xda0f70(0x14f),_0x1e8fff);}),canSubmitNames=!![],alert('Se\x20han\x20restablecido\x20todos\x20los\x20envíos\x20de\x20nombres.')):alert('No\x20tienes\x20permisos\x20para\x20restablecer\x20los\x20envíos\x20de\x20nombres\x20o\x20no\x20has\x20iniciado\x20sesión.');}function resetAllData(){var _0x1487e4=_0x22cadd,_0x17a9ce=firebase[_0x1487e4(0x18d)]()['currentUser'];_0x17a9ce&&_0x17a9ce[_0x1487e4(0x19d)]===_0x1487e4(0x17d)?(nameRef[_0x1487e4(0x146)]()[_0x1487e4(0x19f)](function(){var _0x502c22=_0x1487e4;console[_0x502c22(0x166)](_0x502c22(0x177));})[_0x1487e4(0x154)](function(_0x5928f6){var _0x12e960=_0x1487e4;console[_0x12e960(0x16f)](_0x12e960(0x14f),_0x5928f6);}),userMessagesRef[_0x1487e4(0x146)]()[_0x1487e4(0x19f)](function(){var _0x5a60ba=_0x1487e4;console[_0x5a60ba(0x166)](_0x5a60ba(0x1a3));})[_0x1487e4(0x154)](function(_0x5b85c3){var _0x302d47=_0x1487e4;console[_0x302d47(0x16f)](_0x302d47(0x170),_0x5b85c3);}),canSubmitNames=!![],alert(_0x1487e4(0x160))):alert(_0x1487e4(0x179));}function logout(){var _0x10aea4=_0x22cadd;firebase[_0x10aea4(0x18d)]()['signOut']()['then'](function(){alert('Has\x20cerrado\x20sesión\x20correctamente.');})[_0x10aea4(0x154)](function(_0x5be8f9){var _0x3095fb=_0x10aea4;alert('Error\x20al\x20cerrar\x20sesión:\x20'+_0x5be8f9[_0x3095fb(0x164)]);});}function displayUserInfo(_0x16de45){var _0x201307=_0x22cadd,_0x2cd2fa=document[_0x201307(0x180)](_0x201307(0x156)),_0x414171=document[_0x201307(0x180)](_0x201307(0x14e));if(_0x2cd2fa){_0x2cd2fa['innerHTML']=_0x16de45?_0x201307(0x194)+_0x16de45[_0x201307(0x161)]+'\x20('+_0x16de45[_0x201307(0x140)]+')':'';var _0x473ad0=_0x16de45&&_0x16de45[_0x201307(0x17c)][0x0]?.[_0x201307(0x199)]===_0x201307(0x174)&&_0x16de45['uid']===_0x201307(0x17d);_0x414171[_0x201307(0x18e)][_0x201307(0x155)]=_0x473ad0?_0x201307(0x188):_0x201307(0x18a);}}function loginWithGoogle(){var _0x46bfb7=_0x22cadd,_0xb709b7=new firebase[(_0x46bfb7(0x18d))][(_0x46bfb7(0x182))]();firebase[_0x46bfb7(0x18d)]()[_0x46bfb7(0x167)](_0xb709b7)[_0x46bfb7(0x19f)](function(_0x572ab7){var _0x3470fc=_0x46bfb7,_0x5e967f=_0x572ab7['user'][_0x3470fc(0x140)][_0x3470fc(0x175)]();isAllowedUser(_0x5e967f)[_0x3470fc(0x19f)](function(_0x2f165d){var _0x36dc05=_0x3470fc;_0x2f165d?alert(_0x36dc05(0x14a)):(firebase[_0x36dc05(0x18d)]()[_0x36dc05(0x152)](),alert(_0x36dc05(0x18c)));});})[_0x46bfb7(0x154)](function(_0x25818f){var _0x17d83f=_0x46bfb7;alert(_0x17d83f(0x15a)+_0x25818f[_0x17d83f(0x164)]);});}function addEmailManually(){var _0x1b9240=_0x22cadd,_0x5e1bca=firebase[_0x1b9240(0x18d)]()[_0x1b9240(0x1a4)];if(_0x5e1bca&&_0x5e1bca['uid']===_0x1b9240(0x17d)){var _0x6a750f=prompt(_0x1b9240(0x159));if(_0x6a750f&&_0x6a750f[_0x1b9240(0x14b)]()!==''){var _0x4a09dc=_0x6a750f[_0x1b9240(0x168)]('.','_')['replace']('@','_');verificationRef[_0x1b9240(0x153)]('allowedEmails')[_0x1b9240(0x153)](_0x4a09dc)[_0x1b9240(0x16e)](!![])[_0x1b9240(0x19f)](function(){var _0x397e61=_0x1b9240;alert(_0x397e61(0x15d));})[_0x1b9240(0x154)](function(_0x5edcd7){var _0x2cabbc=_0x1b9240;console[_0x2cabbc(0x16f)]('Error\x20al\x20añadir\x20el\x20correo:',_0x5edcd7),alert(_0x2cabbc(0x186));});}else alert('Debes\x20ingresar\x20un\x20correo\x20válido.');}else alert(_0x1b9240(0x190));}function spinTheWheel(){var _0x51e2d4=_0x22cadd,_0x275000=[];nameRef[_0x51e2d4(0x17e)]('value')[_0x51e2d4(0x19f)](function(_0x53b47f){var _0x5ec9de=_0x51e2d4;_0x53b47f[_0x5ec9de(0x18b)](function(_0x41ab3d){var _0x2bafa4=_0x5ec9de,_0x2d255b=_0x41ab3d['val']()['name'];_0x275000[_0x2bafa4(0x178)](_0x2d255b);});if(_0x275000[_0x5ec9de(0x197)]>0x0){var _0x4df54b=Math[_0x5ec9de(0x187)](Math[_0x5ec9de(0x17a)]()*_0x275000[_0x5ec9de(0x197)]),_0x52c3a5=_0x275000[_0x4df54b],_0x2273e3=firebase['database']()[_0x5ec9de(0x19a)]('result');_0x2273e3['set']({'winner':_0x52c3a5}),alert('Resultado\x20almacenado:\x20¡'+_0x52c3a5+'!');}else alert('No\x20hay\x20nombres\x20disponibles\x20para\x20elegir.');})[_0x51e2d4(0x154)](function(_0x3324c5){var _0x379ba1=_0x51e2d4;console[_0x379ba1(0x16f)](_0x379ba1(0x171),_0x3324c5);});}firebase[_0x22cadd(0x18d)]()[_0x22cadd(0x158)](function(_0x44d503){var _0x1a72fa=_0x22cadd;displayUserInfo(_0x44d503);var _0x5091e2='EcjgireoyRNjZ7Fo3W3eMZT05jp1',_0x51ce48=document[_0x1a72fa(0x180)](_0x1a72fa(0x173)),_0x31c468=document['getElementById'](_0x1a72fa(0x141)),_0x4fb55f=document[_0x1a72fa(0x180)](_0x1a72fa(0x16c)),_0x29339f=document[_0x1a72fa(0x180)](_0x1a72fa(0x14c)),_0x5948e2=document[_0x1a72fa(0x180)](_0x1a72fa(0x163)),_0x4e4f57=document[_0x1a72fa(0x180)](_0x1a72fa(0x183)),_0x1bd054=document['getElementById']('resetButton'),_0x2feda2=document[_0x1a72fa(0x180)]('toggleVerificationButton');_0x44d503?(_0x51ce48['style']['display']='none',_0x31c468[_0x1a72fa(0x18e)]['display']=_0x1a72fa(0x18a),_0x4fb55f['style']['display']=_0x1a72fa(0x18a),_0x29339f['style'][_0x1a72fa(0x155)]=_0x1a72fa(0x188),_0x44d503[_0x1a72fa(0x19d)]===_0x5091e2?(_0x5948e2['style']['display']=_0x1a72fa(0x188),_0x4e4f57[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]=_0x1a72fa(0x188),_0x1bd054[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]='block'):(_0x5948e2['style']['display']=_0x1a72fa(0x18a),_0x4e4f57[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]=_0x1a72fa(0x18a),_0x1bd054['style']['display']=_0x1a72fa(0x18a)),toggleVerificationButtonVisibility(_0x44d503[_0x1a72fa(0x19d)]===_0x1a72fa(0x1a5))):(_0x51ce48[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]='block',_0x31c468[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]=_0x1a72fa(0x188),_0x4fb55f[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]=_0x1a72fa(0x188),_0x29339f['style'][_0x1a72fa(0x155)]=_0x1a72fa(0x18a),_0x5948e2['style'][_0x1a72fa(0x155)]=_0x1a72fa(0x18a),_0x4e4f57[_0x1a72fa(0x18e)][_0x1a72fa(0x155)]=_0x1a72fa(0x18a),_0x1bd054['style'][_0x1a72fa(0x155)]=_0x1a72fa(0x18a),_0x2feda2['style']['display']=_0x1a72fa(0x18a));}),document[_0x22cadd(0x180)](_0x22cadd(0x144))[_0x22cadd(0x1a6)](_0x22cadd(0x162),handleFormSubmission),document[_0x22cadd(0x180)](_0x22cadd(0x163))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),resetUserMessages),document[_0x22cadd(0x180)](_0x22cadd(0x183))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),resetNames),document[_0x22cadd(0x180)](_0x22cadd(0x191))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),resetAllData),document[_0x22cadd(0x180)]('logoutButton')[_0x22cadd(0x1a6)](_0x22cadd(0x13f),logout),document[_0x22cadd(0x180)](_0x22cadd(0x173))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),loginWithGoogle),document[_0x22cadd(0x180)](_0x22cadd(0x14e))[_0x22cadd(0x1a6)](_0x22cadd(0x13f),spinTheWheel);
